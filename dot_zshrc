# Linux: Start SSH agent before sheldon (libgit2 requires SSH_AUTH_SOCK)
# macOS uses system Keychain agent, so skip
if [[ "$OSTYPE" == linux* ]] && [[ -z "$SSH_AUTH_SOCK" ]]; then
    eval "$(ssh-agent -s)" > /dev/null
    ssh-add ~/.ssh/main 2>/dev/null
fi

source $HOME/.custom/exports.sh
source $HOME/.custom/eval.sh
source $HOME/.custom/alias.sh
source $HOME/.custom/functions.sh
source $HOME/.custom/utils.sh

# do not save duplicates in history
setopt hist_ignore_dups
setopt hist_ignore_all_dups
# japanese filename support
setopt print_eight_bit

# Local overrides (not managed by chezmoi)
if [[ -r $HOME/.custom/local.sh ]]; then
  source $HOME/.custom/local.sh
fi
